<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>4.Y ‚Äì Matematik-sp√∏rgeskema ‚Üí Prompt</title>
  <style>
    :root{
      --paper:#fbf4e7;
      --paper2:#f6efe2;
      --ink:#1f2937;
      --muted:#556070;
      --line:rgba(31,41,55,.14);
      --card:#ffffffcc;
      --shadow:0 18px 40px rgba(0,0,0,.10);

      --green:#2f7d5a;
      --blue:#2b6cb0;
      --orange:#d97706;
      --pink:#db2777;
      --teal:#0f766e;

      --r:22px;
      --tap:52px;
      --max:1180px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(47,125,90,.16), transparent 55%),
        radial-gradient(900px 600px at 85% 20%, rgba(43,108,176,.14), transparent 55%),
        radial-gradient(900px 600px at 70% 85%, rgba(217,119,6,.14), transparent 55%),
        linear-gradient(180deg, var(--paper), var(--paper2));
    }

    /* --- ‚Äúmagasin side‚Äù container --- */
    .spread{
      max-width:var(--max);
      margin:0 auto;
      padding:18px 14px 22px;
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      .spread{ grid-template-columns: 1.08fr .92fr; gap:18px; }
    }

    .page{
      border:1px solid var(--line);
      border-radius: 28px;
      background: rgba(255,255,255,.55);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    /* subtle paper texture */
    .page:before{
      content:"";
      position:absolute; inset:0;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,.02), rgba(0,0,0,.02) 1px, transparent 1px, transparent 8px);
      opacity:.25;
      pointer-events:none;
      mix-blend-mode:multiply;
    }

    .pageInner{ position:relative; padding:16px; }

    /* header block */
    .mast{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      padding:16px 16px 0;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.75);
      font-weight:900;
      letter-spacing:.2px;
    }
    .badgeDot{
      width:12px;height:12px;border-radius:50%;
      background: linear-gradient(180deg, var(--green), var(--teal));
      box-shadow: 0 6px 14px rgba(47,125,90,.25);
    }

    h1{
      margin:10px 0 0;
      font-size: clamp(24px, 3.2vw, 42px);
      line-height:1.05;
      letter-spacing:-.3px;
      font-weight:1000;
    }
    .lead{
      margin:10px 0 0;
      color:var(--muted);
      max-width:78ch;
      font-size:14px;
      line-height:1.35;
    }

    /* mini cards like infographic modules */
    .modules{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top:12px;
    }
    @media (min-width: 560px){
      .modules{ grid-template-columns: 1fr 1fr; }
    }
    .mod{
      border:1px solid var(--line);
      border-radius: 18px;
      background: rgba(255,255,255,.70);
      padding:12px;
    }
    .modTop{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom:6px;
    }
    .modTitle{
      font-weight:1000;
      font-size:13px;
      letter-spacing:.2px;
    }
    .tag{
      font-size:11px;
      border-radius:999px;
      padding:6px 9px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.7);
      color:var(--muted);
      white-space:nowrap;
    }
    .modText{
      font-size:13px;
      color:var(--muted);
      line-height:1.35;
      margin:0;
    }

    /* fields */
    .row2{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top:12px;
    }
    @media (min-width: 560px){
      .row2{ grid-template-columns: 1fr 1fr; }
    }
    .field{
      width:100%;
      min-height:var(--tap);
      padding: 12px 12px;
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.8);
      font-size:15px;
      outline:none;
    }
    .field:focus{
      border-color: rgba(43,108,176,.45);
      box-shadow: 0 0 0 4px rgba(43,108,176,.15);
      background:white;
    }

    /* questions */
    .qBlock{
      margin-top:14px;
      border-top:1px solid var(--line);
      padding-top:14px;
    }
    .q{
      border:1px solid var(--line);
      border-radius: 20px;
      background: rgba(255,255,255,.68);
      padding:12px;
      margin-bottom:10px;
    }
    .qTop{
      display:flex; gap:10px; align-items:flex-start; justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .qNum{
      width:38px;height:38px;
      border-radius: 14px;
      display:grid; place-items:center;
      font-weight:1000;
      background: rgba(43,108,176,.12);
      color: var(--blue);
      flex:0 0 auto;
    }
    .qText{
      flex:1;
      font-weight:1000;
      font-size:15px;
      line-height:1.2;
    }
    .rule{
      font-size:11px;
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 9px;
      background: rgba(255,255,255,.75);
      color:var(--muted);
      white-space:nowrap;
    }
    .opts{
      display:flex;
      flex-direction:column; /* under hinanden */
      gap:10px;
    }
    label.opt{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding: 11px 12px;
      border-radius: 18px;
      border:1px solid rgba(31,41,55,.12);
      background: rgba(255,255,255,.82);
      cursor:pointer;
      min-height: var(--tap);
      transition: transform .04s ease, box-shadow .12s ease, border-color .12s ease;
    }
    label.opt:hover{
      border-color: rgba(43,108,176,.35);
      box-shadow: 0 10px 18px rgba(43,108,176,.10);
    }
    input[type="radio"], input[type="checkbox"]{
      margin-top: 4px;
      transform: scale(1.25);
      accent-color: var(--blue);
    }
    .optText{
      font-size:14px;
      font-weight:800;
    }
    .small{
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
    }

    /* right side: prompt sheet */
    .rightTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .rightTitle{
      font-weight:1000;
      font-size:18px;
      letter-spacing:.2px;
      margin:0;
    }
    .status{
      font-size:12px;
      color:var(--muted);
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 10px;
      background: rgba(255,255,255,.75);
    }

    .promptWrap{
      border:1px dashed rgba(31,41,55,.25);
      border-radius: 20px;
      padding:12px;
      background: rgba(255,255,255,.72);
    }
    textarea{
      width:100%;
      min-height: 420px;
      border:0;
      outline:none;
      resize: vertical;
      background: transparent;
      color: #111827;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 12.5px;
      line-height: 1.45;
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      margin-top:12px;
    }
    .btnRow{ display:flex; gap:10px; flex-wrap:wrap; }
    button{
      border:0;
      cursor:pointer;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight:1000;
      font-size:14px;
      min-height: var(--tap);
    }
    button:disabled{ opacity:.7; cursor:not-allowed; }
    .primary{
      color:white;
      background: linear-gradient(180deg, rgba(47,125,90,.95), rgba(47,125,90,.80));
      box-shadow: 0 12px 22px rgba(47,125,90,.18);
    }
    .secondary{
      color:white;
      background: linear-gradient(180deg, rgba(43,108,176,.95), rgba(43,108,176,.80));
      box-shadow: 0 12px 22px rgba(43,108,176,.18);
    }
    .ghost{
      background: rgba(255,255,255,.85);
      border:1px solid var(--line);
      color:var(--ink);
      font-weight:900;
    }

    .toast{
      position:fixed;
      right:14px;
      bottom:14px;
      background: rgba(17,24,39,.95);
      color: white;
      padding: 10px 12px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.12);
      display:none;
      max-width: 360px;
      font-size: 13px;
      z-index:99;
    }
    .toast.show{ display:block; }
  </style>
</head>

<body>

  <div class="spread">

    <!-- LEFT PAGE: survey -->
    <section class="page" aria-label="Sp√∏rgeskema-side">
      <div class="mast">
        <div>
          <div class="badge"><span class="badgeDot"></span> 4.Y ‚Ä¢ Matematik-sp√∏rgeskema</div>
          <h1>Hvad fungerer bedst for dig?</h1>
          <p class="lead">
            S√¶t kryds. Til sidst laver siden en tekst (prompt), som du kan kopiere ind i ChatGPT.
          </p>
        </div>
      </div>

      <div class="pageInner">

        <div class="modules">
          <div class="mod">
            <div class="modTop">
              <div class="modTitle">üß† Tip</div>
              <div class="tag">kort & nemt</div>
            </div>
            <p class="modText">V√¶lg det der passer bedst. Det er okay at v√¶re i tvivl.</p>
          </div>
          <div class="mod">
            <div class="modTop">
              <div class="modTitle">‚úÖ Regler</div>
              <div class="tag">max 2</div>
            </div>
            <p class="modText">Nogle steder m√• du v√¶lge 2. Der st√•r ‚Äúmax 2‚Äù.</p>
          </div>
        </div>

        <div class="row2">
          <input class="field" id="studentName" placeholder="‚úçÔ∏è Navn" autocomplete="off">
          <input class="field" id="studentClass" placeholder="üè´ Klasse (fx 4Y)" autocomplete="off" value="4Y">
        </div>

        <div class="qBlock">
          <!-- Q1 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">1</div>
              <div class="qText">N√•r jeg arbejder med matematik ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q1" value="Det f√∏les let for mig"><span class="optText">Det f√∏les let for mig</span></label>
              <label class="opt"><input type="radio" name="q1" value="Det f√∏les ok ‚Äì noget er let, noget er sv√¶rt"><span class="optText">Det f√∏les ok ‚Äì noget er let, noget er sv√¶rt</span></label>
              <label class="opt"><input type="radio" name="q1" value="Det f√∏les sv√¶rt, men jeg vil gerne blive bedre"><span class="optText">Det f√∏les sv√¶rt, men jeg vil gerne blive bedre</span></label>
              <label class="opt"><input type="radio" name="q1" value="Det afh√¶nger af, hvad vi arbejder med"><span class="optText">Det afh√¶nger af, hvad vi arbejder med</span></label>
            </div>
          </div>

          <!-- Q2 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">2</div>
              <div class="qText">N√•r vi starter p√• en ny opgave, vil jeg helst ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q2" value="Starte med noget let og blive sikker"><span class="optText">Starte med noget let og blive sikker</span></label>
              <label class="opt"><input type="radio" name="q2" value="Starte med noget sv√¶rt og udfordre mig selv"><span class="optText">Starte med noget sv√¶rt og udfordre mig selv</span></label>
            </div>
          </div>

          <!-- Q3 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">3</div>
              <div class="qText">Jeg vil gerne blive bedre til ‚Ä¶</div>
              <div class="rule">flere</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q3" value="Plus og minus"><span class="optText">Plus og minus</span></label>
              <label class="opt"><input type="checkbox" name="q3" value="Gange"><span class="optText">Gange</span></label>
              <label class="opt"><input type="checkbox" name="q3" value="Division"><span class="optText">Division</span></label>
              <label class="opt"><input type="checkbox" name="q3" value="Br√∏ker"><span class="optText">Br√∏ker</span></label>
              <label class="opt"><input type="checkbox" name="q3" value="M√•ling (tid, penge, l√¶ngde, v√¶gt)"><span class="optText">M√•ling (tid, penge, l√¶ngde, v√¶gt)</span></label>
              <label class="opt"><input type="checkbox" name="q3" value="Problemer og g√•der"><span class="optText">Problemer og g√•der</span></label>
            </div>
          </div>

          <!-- Q4 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">4</div>
              <div class="qText">Matematik er sjovest for mig, n√•r det handler om ‚Ä¶</div>
              <div class="rule">flere</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q4" value="Spil"><span class="optText">Spil</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Sport"><span class="optText">Sport</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Gaming"><span class="optText">Gaming</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Dyr"><span class="optText">Dyr</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Mad og butikker"><span class="optText">Mad og butikker</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Musik/dans"><span class="optText">Musik/dans</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Eventyr/fantasi"><span class="optText">Eventyr/fantasi</span></label>
              <label class="opt"><input type="checkbox" name="q4" value="Hverdagen"><span class="optText">Hverdagen</span></label>
            </div>
            <div class="small">Valgfrit: skriv et ekstra tema</div>
            <input class="field" id="q4other" placeholder="‚úçÔ∏è fx Roblox, heste, K-pop, fodbold..." autocomplete="off">
          </div>

          <!-- Q5 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">5</div>
              <div class="qText">N√•r jeg arbejder bedst, er det fordi ‚Ä¶</div>
              <div class="rule">max 2</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q5" value="Jeg kan arbejde i ro"><span class="optText">Jeg kan arbejde i ro</span></label>
              <label class="opt"><input type="checkbox" name="q5" value="Jeg kan tale med andre"><span class="optText">Jeg kan tale med andre</span></label>
              <label class="opt"><input type="checkbox" name="q5" value="Jeg kan bev√¶ge mig lidt"><span class="optText">Jeg kan bev√¶ge mig lidt</span></label>
              <label class="opt"><input type="checkbox" name="q5" value="Jeg ved pr√¶cis, hvad jeg skal"><span class="optText">Jeg ved pr√¶cis, hvad jeg skal</span></label>
              <label class="opt"><input type="checkbox" name="q5" value="Jeg m√• v√¶lge noget selv"><span class="optText">Jeg m√• v√¶lge noget selv</span></label>
              <label class="opt"><input type="checkbox" name="q5" value="Jeg kan skifte opgave undervejs"><span class="optText">Jeg kan skifte opgave undervejs</span></label>
            </div>
          </div>

          <!-- Q6 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">6</div>
              <div class="qText">Jeg arbejder bedst ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q6" value="Alene"><span class="optText">Alene</span></label>
              <label class="opt"><input type="radio" name="q6" value="Sammen med √©n anden"><span class="optText">Sammen med √©n anden</span></label>
              <label class="opt"><input type="radio" name="q6" value="I en lille gruppe"><span class="optText">I en lille gruppe</span></label>
              <label class="opt"><input type="radio" name="q6" value="Det kommer an p√• opgaven"><span class="optText">Det kommer an p√• opgaven</span></label>
            </div>
          </div>

          <!-- Q7 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">7</div>
              <div class="qText">N√•r jeg skal l√¶re noget nyt, hj√¶lper det mig mest at ‚Ä¶</div>
              <div class="rule">max 2</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q7" value="F√• det forklaret"><span class="optText">F√• det forklaret</span></label>
              <label class="opt"><input type="checkbox" name="q7" value="Se et eksempel"><span class="optText">Se et eksempel</span></label>
              <label class="opt"><input type="checkbox" name="q7" value="Pr√∏ve selv"><span class="optText">Pr√∏ve selv</span></label>
              <label class="opt"><input type="checkbox" name="q7" value="Tale med andre"><span class="optText">Tale med andre</span></label>
              <label class="opt"><input type="checkbox" name="q7" value="Tegne/skrive"><span class="optText">Tegne/skrive</span></label>
            </div>
          </div>

          <!-- Q8 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">8</div>
              <div class="qText">N√•r noget er sv√¶rt, vil jeg helst ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q8" value="Sp√∏rge l√¶reren"><span class="optText">Sp√∏rge l√¶reren</span></label>
              <label class="opt"><input type="radio" name="q8" value="Pr√∏ve selv f√∏rst"><span class="optText">Pr√∏ve selv f√∏rst</span></label>
              <label class="opt"><input type="radio" name="q8" value="Sp√∏rge en ven"><span class="optText">Sp√∏rge en ven</span></label>
            </div>
          </div>

          <!-- Q9 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">9</div>
              <div class="qText">I matematik vil jeg helst ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q9" value="Have faste opgaver"><span class="optText">Have faste opgaver</span></label>
              <label class="opt"><input type="radio" name="q9" value="Kunne skifte mellem opgaver"><span class="optText">Kunne skifte mellem opgaver</span></label>
            </div>
          </div>

          <!-- Q10 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">10</div>
              <div class="qText">Jeg kan bedst lide at ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q10" value="Arbejde l√¶nge med √©n opgave"><span class="optText">Arbejde l√¶nge med √©n opgave</span></label>
              <label class="opt"><input type="radio" name="q10" value="Arbejde med flere sm√• opgaver"><span class="optText">Arbejde med flere sm√• opgaver</span></label>
            </div>
          </div>

          <!-- Q11 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">11</div>
              <div class="qText">Det g√∏r mig stolt i skolen, n√•r ‚Ä¶</div>
              <div class="rule">max 1</div>
            </div>
            <div class="opts" role="radiogroup">
              <label class="opt"><input type="radio" name="q11" value="Jeg forst√•r noget nyt"><span class="optText">Jeg forst√•r noget nyt</span></label>
              <label class="opt"><input type="radio" name="q11" value="Jeg bliver bedre end f√∏r"><span class="optText">Jeg bliver bedre end f√∏r</span></label>
              <label class="opt"><input type="radio" name="q11" value="Jeg klarer en sv√¶r opgave"><span class="optText">Jeg klarer en sv√¶r opgave</span></label>
            </div>
          </div>

          <!-- Q12 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">12</div>
              <div class="qText">Jeg vil gerne blive bedre til ‚Ä¶</div>
              <div class="rule">flere</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q12" value="At koncentrere mig"><span class="optText">At koncentrere mig</span></label>
              <label class="opt"><input type="checkbox" name="q12" value="At arbejde selv"><span class="optText">At arbejde selv</span></label>
              <label class="opt"><input type="checkbox" name="q12" value="At arbejde sammen med andre"><span class="optText">At arbejde sammen med andre</span></label>
              <label class="opt"><input type="checkbox" name="q12" value="At forklare mine tanker"><span class="optText">At forklare mine tanker</span></label>
              <label class="opt"><input type="checkbox" name="q12" value="At turde pr√∏ve sv√¶re ting"><span class="optText">At turde pr√∏ve sv√¶re ting</span></label>
            </div>
          </div>

          <!-- Q13 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">13</div>
              <div class="qText">Hvis skolen var helt perfekt for mig, ville den ‚Ä¶</div>
              <div class="rule">flere</div>
            </div>
            <div class="opts">
              <label class="opt"><input type="checkbox" name="q13" value="Have flere valg"><span class="optText">Have flere valg</span></label>
              <label class="opt"><input type="checkbox" name="q13" value="Have mere ro"><span class="optText">Have mere ro</span></label>
              <label class="opt"><input type="checkbox" name="q13" value="Have mere bev√¶gelse"><span class="optText">Have mere bev√¶gelse</span></label>
              <label class="opt"><input type="checkbox" name="q13" value="Have mere leg/fantasi"><span class="optText">Have mere leg/fantasi</span></label>
              <label class="opt"><input type="checkbox" name="q13" value="Have mere tid til fordybelse"><span class="optText">Have mere tid til fordybelse</span></label>
            </div>
          </div>

          <!-- Q14 -->
          <div class="q">
            <div class="qTop">
              <div class="qNum">14</div>
              <div class="qText">Er der noget, vi som l√¶rere skal vide om dig? (valgfrit)</div>
              <div class="rule">valgfri</div>
            </div>
            <input class="field" id="q14" placeholder="‚úçÔ∏è Skriv her (valgfrit)..." autocomplete="off">
          </div>

        </div>

      </div>
    </section>

    <!-- RIGHT PAGE: prompt -->
    <section class="page" aria-label="Prompt-side">
      <div class="pageInner">
        <div class="rightTop">
          <h2 class="rightTitle">üìÑ Din prompt</h2>
          <div class="status" id="status">Udfyld og tryk ‚ÄúLav prompt‚Äù.</div>
        </div>

        <div class="modules">
          <div class="mod">
            <div class="modTop">
              <div class="modTitle">üéØ Output</div>
              <div class="tag">2√ó45 min</div>
            </div>
            <p class="modText">Prompten beder ChatGPT lave opgaver som et ‚Äúrigtigt matematikbog-ark‚Äù.</p>
          </div>
          <div class="mod">
            <div class="modTop">
              <div class="modTitle">‚¨áÔ∏è Download</div>
              <div class="tag">.txt</div>
            </div>
            <p class="modText">Gem prompten som tekstfil og inds√¶t den direkte i ChatGPT.</p>
          </div>
        </div>

        <div class="promptWrap" style="margin-top:12px;">
          <textarea id="promptOut" placeholder="Prompten kommer her‚Ä¶"></textarea>
        </div>

        <div class="actions">
          <div class="btnRow">
            <button class="primary" id="buildBtn" type="button">‚ú® Lav prompt</button>
            <button class="secondary" id="downloadBtn" type="button">‚¨áÔ∏è Download .txt</button>
            <button class="ghost" id="copyBtn" type="button">üìã Kopi√©r</button>
            <button class="ghost" id="resetBtn" type="button">üîÑ Nulstil</button>
          </div>
        </div>

      </div>
    </section>

  </div>

  <div class="toast" id="toast">Kopieret ‚úÖ</div>

  <script>
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));

    const toast = (msg) => {
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(()=>t.classList.remove("show"), 1200);
    };

    // Max 2 checks on selected groups
    const enforceMaxChecks = (name, max) => {
      const boxes = $$(`input[type="checkbox"][name="${name}"]`);
      boxes.forEach(b => b.addEventListener("change", () => {
        const checked = boxes.filter(x => x.checked);
        if (checked.length > max) {
          b.checked = false;
          toast(`Max ${max} kryds her üôÇ`);
        }
      }));
    };
    enforceMaxChecks("q5", 2);
    enforceMaxChecks("q7", 2);

    const getRadio = (name) => {
      const r = $(`input[type="radio"][name="${name}"]:checked`);
      return r ? r.value : "";
    };
    const getChecks = (name) => $$(`input[type="checkbox"][name="${name}"]:checked`).map(x=>x.value);

    function buildPrompt(){
      const studentName = ($("#studentName").value || "").trim() || "Elev";
      const studentClass = ($("#studentClass").value || "").trim() || "4Y";

      const q1 = getRadio("q1");
      const q2 = getRadio("q2");
      const q3 = getChecks("q3");
      const q4 = getChecks("q4");
      const q4other = ($("#q4other").value || "").trim();
      const q5 = getChecks("q5");
      const q6 = getRadio("q6");
      const q7 = getChecks("q7");
      const q8 = getRadio("q8");
      const q9 = getRadio("q9");
      const q10 = getRadio("q10");
      const q11 = getRadio("q11");
      const q12 = getChecks("q12");
      const q13 = getChecks("q13");
      const q14 = ($("#q14").value || "").trim();

      const answers = [
        `Navn: ${studentName}`,
        `Klasse: ${studentClass}`,
        `1) ${q1 || "‚Äî"}`,
        `2) ${q2 || "‚Äî"}`,
        `3) ${q3.length ? q3.join(", ") : "‚Äî"}`,
        `4) ${q4.length ? q4.join(", ") : "‚Äî"}${q4other ? ` (Uddyb: ${q4other})` : ""}`,
        `5) ${q5.length ? q5.join(", ") : "‚Äî"}`,
        `6) ${q6 || "‚Äî"}`,
        `7) ${q7.length ? q7.join(", ") : "‚Äî"}`,
        `8) ${q8 || "‚Äî"}`,
        `9) ${q9 || "‚Äî"}`,
        `10) ${q10 || "‚Äî"}`,
        `11) ${q11 || "‚Äî"}`,
        `12) ${q12.length ? q12.join(", ") : "‚Äî"}`,
        `13) ${q13.length ? q13.join(", ") : "‚Äî"}`,
        `14) ${q14 || "‚Äî"}`
      ].join("\n");

      const prompt =
`Du er en dansk matematikl√¶rer for 4. klasse og didaktisk designer.

OPGAVE:
Lav et PERSONLIGT matematikforl√∏b til eleven ud fra elevens besvarelse.

KRAV:
- Varighed: 2 lektioner √° 45 minutter (2√ó45 min).
- Output: KUN opgaver/arbejdsark-tekst. Ingen beskeder til l√¶rer eller elever. Ingen introduktion. Ingen forklaringer. Bare opgaverne.
- Differentiering: For hver lektion skal der v√¶re 3 spor: Basis / Plus / Challenge.
- Realistisk 4. klasse med stor niveauspredning.
- Brug elevens interesser aktivt i opgavekontekster.
- Respekt√©r elevens pr√¶ferencer for ro/samarbejde/bev√¶gelse/valg og l√¶ringsstrategier.
- Nok opgaver til ca. 45 min per lektion.
- Opgaverne skal v√¶re konkrete (antal, tydelige delsp√∏rgsm√•l).

BOGSIDE-LOOK:
- Skriv som en ‚Äúrigtig matematikbog/arbejdsbogside‚Äù i ren tekst: tydelige overskrifter, luft og sm√• bokse.
- Brug gerne ASCII-bokse (‚îå ‚îÄ ‚îê ‚îÇ ‚îî ‚îò).
- Inds√¶t en lille progress-ting (fx ‚ÄúLektion 1: 1/3, 2/3, 3/3‚Äù).
- Inds√¶t √©n linje midtvejs: ‚ÄúStop og tjek: Har du styr p√• opgaven?‚Äù
- Print-venligt (ingen web-sprog).

FORMAT (brug pr√¶cist):
LEKTION 1 (45 min)
BASIS
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶
PLUS
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶
CHALLENGE
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶

LEKTION 2 (45 min)
BASIS
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶
PLUS
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶
CHALLENGE
1) ‚Ä¶
2) ‚Ä¶
3) ‚Ä¶

ELEVENS SVAR:
${answers}
`;

      $("#promptOut").value = prompt;
      $("#status").textContent = "Klar ‚úÖ (du kan kopiere eller downloade)";
      return { prompt, studentName, studentClass };
    }

    function downloadTxt(){
      const { prompt, studentName, studentClass } = buildPrompt();

      const safeName = (studentName || "Elev")
        .replace(/[^\w\-√¶√∏√•√Ü√ò√Ö ]+/g, "")
        .trim()
        .replace(/\s+/g, "_");

      const safeClass = (studentClass || "4Y")
        .replace(/[^\w\-]+/g, "")
        .trim();

      const filename = `${safeClass}_ChatGPT_prompt_${safeName}.txt`;

      const blob = new Blob([prompt], { type:"text/plain;charset=utf-8" });
      const url = URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      a.remove();

      URL.revokeObjectURL(url);
      toast("Downloaded ‚úÖ");
    }

    async function copyPrompt(){
      const text = ($("#promptOut").value || "").trim() || buildPrompt().prompt.trim();
      if(!text){ toast("Lav prompt f√∏rst üôÇ"); return; }

      try{
        await navigator.clipboard.writeText(text);
        toast("Kopieret ‚úÖ");
      }catch(e){
        const ta = $("#promptOut");
        ta.focus(); ta.select();
        document.execCommand("copy");
        toast("Kopieret ‚úÖ");
      }
    }

    function resetAll(){
      $$('input[type="radio"]').forEach(i=>i.checked=false);
      $$('input[type="checkbox"]').forEach(i=>i.checked=false);
      $("#studentName").value = "";
      $("#studentClass").value = "4Y";
      $("#q4other").value = "";
      $("#q14").value = "";
      $("#promptOut").value = "";
      $("#status").textContent = "Udfyld og tryk ‚ÄúLav prompt‚Äù.";
      toast("Nulstillet üîÑ");
    }

    $("#buildBtn").addEventListener("click", () => { buildPrompt(); toast("Prompt klar ‚úÖ"); });
    $("#downloadBtn").addEventListener("click", downloadTxt);
    $("#copyBtn").addEventListener("click", copyPrompt);
    $("#resetBtn").addEventListener("click", resetAll);
  </script>
</body>
</html>
